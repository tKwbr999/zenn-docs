---
title: "AIエージェント「お前の家は詰んでいる」"
emoji: "☠️"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: [家探し, aiagent]
published: true
---

## 俺の怒りは有頂天！

事務所兼自宅として借りた集合住宅(分譲)の瞬断がひどくて、エージェントが使えない。常にとは言わないが大きなコンテキストを利用するタスクの時に限って瞬断する！Fワードを連呼したくなる！

本当にひどい時はそれが数十分続く。この不毛な状況で作業せざるを得なくなった状況、わかりますか？住んでいる自分としては相当辛い！

「仕方がない」と思われるのか？それともそんな家を選んだあんたの自業自得と思われるのか？わかりませんがそんなことが皆様に起きないように集合住宅でインターネット回線を自分の都合よく使うために奮闘した記録を残すことにしました。

## 第一の絶望：VDSLという悪夢(ナイトメア)
VDSLという仕組みをご存知だろうか？

### VDSLの仕組み解説

VDSL（Very-high-bit-rate Digital Subscriber Line）とは、電話回線を利用して高速なインターネット接続を実現する技術。

普通のADSLよりも遥かに速いデータ転送速度を提供するが、その代わりに距離の制約が厳しい。つまり、電話局からの距離が近ければ近いほど、速い速度が得られるというわけ。

既存の電話回線を利用してデジタル信号を送受信する。具体的には、以下のような流れになる。

1. **信号の変換**: 電話回線を通じて、デジタル信号がアナログ信号に変換される。この変換を行うのが、VDSLモデム。
2. **データの送信**: 変換された信号は、電話回線を通じて送信される。ここで重要なのは、信号が高周波数帯域を使用するため、同じ回線で電話も同時に使える点。
3. **受信側での再変換**: 受信側でも同様に、アナログ信号がデジタル信号に再変換され、インターネット接続が可能になる。

この仕組みによって、VDSLは最大で100Mbps以上の速度を実現することができるが、距離が遠くなると速度が落ちる。

### 一般的なVDSLに対する不満
だいたいこんなことになる。

僕の場合は瞬断が突出してヤバい。

1. **瞬断の頻発**
   - インターネット接続が突然切れることが多く、作業が中断される。
   - 特に大きなデータを扱う際に瞬断が発生すると、作業効率が大幅に低下する。

2. **速度の低下**
   - 電話局からの距離が遠い場合、VDSLの速度が著しく低下する。
   - 高速インターネットを期待していたが、実際には遅い速度で不満が募る。

3. **不安定な接続**
   - 接続が不安定で、特にピーク時間帯に速度が落ちることが多い。
   - オンライン会議やストリーミングサービスの利用時に影響が出る。

4. **距離の問題**
   - VDSLは電話局からの距離が近いほど速度が出るため、集合住宅の立地によっては不利になる。
   - 近隣の住居との距離も影響し、信号の劣化が起こる。

5. **配線の老朽化**
   - 古い電話回線を使用している場合、配線の劣化が原因で信号が弱くなる。
   - 定期的なメンテナンスが行われていないことが多い。

6. **集合住宅特有のトラフィック**
   - 同じ回線を複数の住人が共有するため、トラフィックが集中しやすい。
   - 特に夜間や週末に利用者が増えると、速度が落ちる。

### 瞬断に絞った原因
さらに瞬断に限っていうとこんな感じ。

1. **電気ノイズの干渉**
   - VDSLは既存の電話線（銅線）を使用するため、電気的なノイズに弱い
   - 同じ建物内の電気機器（エレベーター、エアコン等）の使用時に発生する電磁干渉
   - 雷や悪天候による外部からの電気的ノイズ

2. **シンクロナイゼーションの喪失**
   - VDSLモデムは常に回線の状態を監視し、最適な通信速度に調整している
   - 回線状態が急激に変化すると、モデムが再同期する必要があり、その間に瞬断が発生
   - 特に回線品質が境界線上にある場合、頻繁に再同期が必要になる

3. **配線の物理的問題**
   - 老朽化した配線の接触不良
   - コネクタ部分の酸化や緩み
   - 建物内配線の物理的な損傷や経年劣化

4. **トラフィック集中による過負荷**
   - 同じVDSL設備を共有する他の利用者が急に大量のデータをダウンロード/アップロードした場合
   - システムが負荷を処理できず、一時的に接続をリセットする

5. **ISP側の機器やルーティングの問題**
   - プロバイダ側の設備更新や障害
   - ルーティングの変更時に発生する一時的な接続問題

6. **クロストーク現象**
   - 集合住宅では多くの回線が近接して配置されており、互いに信号が干渉（クロストーク）
   - 他の住戸の通信状況が変化すると、信号干渉のパターンも変化し、瞬断につながる

特にモデムの再同期とかいうことが発生したらこっちでどうこうできるもんじゃない。

光回線事業者から貸与したモデムは数回交換しても瞬断だけは直らなかった。一時期回線速度が異常な低速になることもあったがそれはモデムの交換で改善した。

あと、瞬断の他の影響でいうなら、リアルタイムゲームをする方ならわかるが操作キャラがオートランになって画面上の操作が全く効かずに突進し続け死ぬみたいなことが起こる。これもこれでゲーマーにとっては結構ヤバくてネット対戦やMMOのようなオンラインゲームを全て辞めることになりました・・・


## 第二の絶望：理事会の説得
インターネットがks！と感情的に表現したとことでわかってくれるやつなんていません。

紳士に礼儀よく管理室に相談したところ、案の定「そんなこといわれたの始めてだ」とのこと。そこでAIエージェントといっても通じないので大きなファイルのダウンロード時によく発生してエラーが起きると言い換えて説明。

そして紆余曲折あり住人で構成された理事会に改善要求の稟議書を提出せよとのことで落ち着いたためウキウキしながら稟議書を作成し提出。

それを理事会メンバーが確認した回答「不受理：理解できませんでした」

なんでやねん！！！

それを見て管理会社に連絡したら「対応する時間もないのでね」とのこと。

もう、この家、ダメだ・・・

## 間違いない家探し
ここまで来ればわかると思うが、家を選んだ時点で、あなたの開発AIエージェントが正しく機能できるかどうかは既にある程度決まっている。ありがたいことにエンジニア稼業は多くの収入を得る機会もあり、そこそこの価格帯以上のマンションを購入する機会もあるかもしれない。むしろ、そのような人が結構多いと思う。

そして世の中はリモート作業が推奨されている時代だ。自宅で快適に作業するために家を選んだ方も確実にいるだろう。しかし、家の要件について、まさか安定したインターネット環境が開発環境においてこれほどまで重要になると考えている方はほとんどいないのではないか？

APIを連続して利用しながら指示を達成していく。AIエージェントは1つのタスクでかなりのAPIを利用することになるが、そのAPI一つ一つのリクエストはタスク全体の達成まで一貫して必要な作業だ。だから、瞬断によって一部が達成できないとなると、全体が狂ってくる。

このような現象をリカバリーしてくれるエージェントもいるのだけど、それはあくまでリカバリー機能が存在するだけで住居自体のインターネット環境の改善にはならない。つまり、瞬間的な問題が発生した時点で作業コストが悪化するということ。

しかも、世の中の流れでは1つのタスクを手放しで数分放置して達成するのが当たり前になりつつある。何かしらの理由でタスクが達成できないと、数分のロスになる。AIで作業的には楽をしているつもりが、時間的には倍かかっているなんてこともある。

だから、家選びの段階で、インターネットが自分の都合で常時利用できるのかが必須条件になったと言える。

よく「クラウド」という表現があるが、インターネットに限って言えば、地面に近い低層の住居の方が100%有利だ。高層階になるほど工事が大変になり、電線から遠くなることもある。むしろ、電線のない地域も存在する。

インターネット回線は、電気回線の経路を利用している場合が多いので、高層階は不利になっていく。しかし、前述した通り、そこそこ収入のある方は高層階に住み始めると、インターネット環境的には不利になっていく。

インターネットのことだけを考えるなら、低層の一戸建てが最高！安い何しても良いアパートなんてパラダイス！インターネット工事について稟議書を書かせるマンションもある、しかも理解する譲歩もない場合がある。それが僕のウチ！

そんなところに住んでいると、ツールの選定ではなく、家のチョイスにフルコミットしたい！この家を選んだことは、心底後悔している！！

しかも、不幸なことにインターネットについて不動産屋が詳しくない時がかなりある。まぁ何とかなりますよ、光回線引いてますよみたいなことを言っているが、その中身についてはほとんど理解していなかったりする。

光回線=早いではない。光回線を使えることを前提に、その回線が自分の意図した速度と安定性を維持できているのか、これが重要だ。

ちなみに、筆者の親戚の家が新潟県にあるが、そこは平屋の一軒家で、地域全体でインターネット回線の共有をしているため、夜間は6MBしか出ない。地域によっても詰むことがある！

東京はそういう意味で最強だ。しかし、罠のような集合住宅はかなりの量ある。ちなみに、インターネット回線の良し悪しがわかっている特化した不動産屋も存在する。

とにかく、家の状況次第で開発の効率が恐ろしく変わる時代がやってきた。そんな状況なので、家選びがとにかく重要だ。

## おわりに
AIエージェントを使った開発の途中でマンションの瞬断に遭い、俺のクレジットが不要に消えたことに、ものすごく怒りを覚え、当て付けのようにこの記事を書いたが、いかがだっただろうか。

溜まったストレスを吐き出してスッキリした。皆様も家選びには特に注意してみてはいかがだろうか？

